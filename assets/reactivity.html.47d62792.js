import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";import{r as c,o as p,c as i,a as n,d as s,b as a,g as t}from"./app.674943b1.js";const l={},u=n("h1",{id:"reactivity",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#reactivity","aria-hidden":"true"},"#"),a(" Reactivity")],-1),r=n("p",null,'Alpine is "reactive" in the sense that when you change a piece of data, everything that depends on that data "reacts" automatically to that change.',-1),d=n("p",null,[a("Every bit of reactivity that takes place in Alpine, happens because of two very important reactive functions in Alpine's core: "),n("code",null,"Alpine.reactive()"),a(", and "),n("code",null,"Alpine.effect()"),a(".")],-1),v=a("Alpine uses VueJS's reactivity engine under the hood to provide these functions. "),k={href:"https://github.com/vuejs/vue-next/tree/master/packages/reactivity",target:"_blank",rel:"noopener noreferrer"},m=a("\u2192 Read more about @vue/reactivity"),h=t(`<p>Understanding these two functions will give you super powers as an Alpine developer, but also just as a web developer in general.</p><p><a name="alpine-reactive"></a></p><h2 id="alpine-reactive" tabindex="-1"><a class="header-anchor" href="#alpine-reactive" aria-hidden="true">#</a> Alpine.reactive()</h2><p>Let&#39;s first look at <code>Alpine.reactive()</code>. This function accepts a JavaScript object as its parameter and returns a &quot;reactive&quot; version of that object. For example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>

<span class="token keyword">let</span> reactiveData <span class="token operator">=</span> Alpine<span class="token punctuation">.</span><span class="token function">reactive</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Under the hood, when <code>Alpine.reactive</code> receives <code>data</code>, it wraps it inside a custom JavaScript proxy.</p><p>A proxy is a special kind of object in JavaScript that can intercept &quot;get&quot; and &quot;set&quot; calls to a JavaScript object.</p>`,7),f={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",target:"_blank",rel:"noopener noreferrer"},b=a("\u2192 Read more about JavaScript proxies"),g=t(`<p>At face value, <code>reactiveData</code> should behave exactly like <code>data</code>. For example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reactiveData<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 1</span>

reactiveData<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reactiveData<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>What you see here is that because <code>reactiveData</code> is a thin wrapper around <code>data</code>, any attempts to get or set a property will behave exactly as if you had interacted with <code>data</code> directly.</p><p>The main difference here is that any time you modify or retrieve (get or set) a value from <code>reactiveData</code>, Alpine is aware of it and can execute any other logic that depends on this data.</p><p><code>Alpine.reactive</code> is only the first half of the story. <code>Alpine.effect</code> is the other half, let&#39;s dig in.</p><p><a name="alpine-effect"></a><a name="alpine-effect"></a></p><h2 id="alpine-effect" tabindex="-1"><a class="header-anchor" href="#alpine-effect" aria-hidden="true">#</a> Alpine.effect()</h2><p><code>Alpine.effect</code> accepts a single callback function. As soon as <code>Alpine.effect</code> is called, it will run the provided function, but actively look for any interactions with reactive data. If it detects an interaction (a get or set from the aforementioned reactive proxy) it will keep track of it and make sure to re-run the callback if any of reactive data changes in the future. For example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> Alpine<span class="token punctuation">.</span><span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

Alpine<span class="token punctuation">.</span><span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When this code is first run, &quot;1&quot; will be logged to the console. Any time <code>data.count</code> changes, it&#39;s value will be logged to the console again.</p><p>This is the mechanism that unlocks all of the reactivity at the core of Alpine.</p><p>To connect the dots further, let&#39;s look at a simple &quot;counter&quot; component example without using Alpine syntax at all, only using <code>Alpine.reactive</code> and <code>Alpine.effect</code>:</p><div class="language-alpine ext-alpine line-numbers-mode"><pre class="language-alpine"><code>&lt;button&gt;Increment&lt;/button&gt;

Count: &lt;span&gt;&lt;/span&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> data <span class="token operator">=</span> Alpine<span class="token punctuation">.</span><span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

Alpine<span class="token punctuation">.</span><span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    span<span class="token punctuation">.</span>textContent <span class="token operator">=</span> data<span class="token punctuation">.</span>count
<span class="token punctuation">}</span><span class="token punctuation">)</span>

button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span>count <span class="token operator">=</span> data<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-alpinejs ext-alpinejs line-numbers-mode"><pre class="language-alpinejs"><code>&lt;div x-data=&quot;{ count: 1 }&quot; class=&quot;demo&quot;&gt;
    &lt;button @click=&quot;count++&quot;&gt;Increment&lt;/button&gt;

    &lt;div&gt;Count: &lt;span x-text=&quot;count&quot;&gt;&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As you can see, you can make any data reactive, and you can also wrap any functionality in <code>Alpine.effect</code>.</p><p>This combination unlocks an incredibly powerful programming paradigm for web development. Run wild and free.</p>`,17);function y(_,x){const e=c("ExternalLinkIcon");return p(),i("div",null,[u,r,d,n("blockquote",null,[n("p",null,[v,n("a",k,[m,s(e)])])]),h,n("p",null,[n("a",f,[b,s(e)])]),g])}var j=o(l,[["render",y],["__file","reactivity.html.vue"]]);export{j as default};
